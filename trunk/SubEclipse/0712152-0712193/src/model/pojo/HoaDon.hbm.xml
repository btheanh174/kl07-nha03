<?xml version="1.0"?>
<!DOCTYPE hibernate-mapping PUBLIC "-//Hibernate/Hibernate Mapping DTD 3.0//EN"
"http://hibernate.sourceforge.net/hibernate-mapping-3.0.dtd">
<!-- Generated Apr 24, 2011 1:18:31 AM by Hibernate Tools 3.4.0.CR1 -->
<hibernate-mapping>
    <class name="model.pojo.HoaDon" table="hoa_don" lazy="true">
        <id name="maHoaDon" type="int">
            <column name="MA_HOA_DON" />
            <generator class="native" />
        </id>
        <property name="ngayLap" type="java.util.Date">
            <column name="NGAY_LAP" />
        </property>
        <many-to-one name="thanhVien" class="model.pojo.ThanhVien" cascade="save-update">
            <column name="THANH_VIEN" />
        </many-to-one>
        <many-to-one name="nguoiNhan" class="model.pojo.NguoiNhan" unique="false" cascade="save-update">
            <column name="NGUOI_NHAN" />
        </many-to-one>
        <many-to-one name="phuongThuc" class="model.pojo.PhuongThucThanhToan" fetch="join">
            <column name="PHUONG_THUC_THANH_TOAN" />
        </many-to-one>
        <many-to-one name="hinhThuc" class="model.pojo.HinhThucVanChuyen" fetch="join">
            <column name="HINH_THUC_VAN_CHUYEN" />
        </many-to-one>
        
        <many-to-one name="tinhTrang" class="model.pojo.TinhTrangHoaDon" fetch="join" cascade="all">
            <column name="TINH_TRANG" />
        </many-to-one>
        <list name="dsChiTietHoaDon" table="chi_tiet_hoa_don" cascade="all">
            <key column="MA_HOA_DON">
            </key>
            <list-index column="SO_THU_TU"></list-index>
            <composite-element class="model.pojo.ChiTietHoaDon">
            	<property name="soLuong" column="SO_LUONG" type="int"></property>
            	<property name="donGia" column="DON_GIA" type="float"></property>
            	<many-to-one name="sanPham" column="SAN_PHAM"></many-to-one>
            </composite-element>
        </list>
        
        <many-to-one name="gianHang" class="model.pojo.GianHang" fetch="join">
        	<column name="GIAN_HANG"></column>
        </many-to-one>
    </class>
</hibernate-mapping>
