<?xml version="1.0"?>
<!DOCTYPE hibernate-mapping PUBLIC "-//Hibernate/Hibernate Mapping DTD 3.0//EN"
"http://hibernate.sourceforge.net/hibernate-mapping-3.0.dtd">
<!-- Generated Apr 23, 2011 6:04:44 PM by Hibernate Tools 3.4.0.CR1 -->
<hibernate-mapping>
    <class name="model.pojo.ThanhVien" table="thanh_vien">
        <id name="maTaiKhoan" type="int">
            <column name="MA_TAI_KHOAN" />
            <generator class="foreign">
            	<param name="property">taiKhoan</param>
            </generator>
        </id>
        <property name="hoTen" type="java.lang.String">
            <column name="HO_TEN" />
        </property>
        <property name="dienThoai" type="java.lang.String">
            <column name="DIEN_THOAI" />
        </property>
        <property name="diaChi" type="java.lang.String">
            <column name="DIA_CHI" />
        </property>
        <property name="email" type="java.lang.String">
            <column name="EMAIL" />
        </property>
        <property name="ngaySinh" type="java.util.Date">
            <column name="NGAY_SINH" />
        </property>
        
        <one-to-one name="taiKhoan" class="model.pojo.TaiKhoan" constrained="true">
        	<meta attribute="Quan hệ 1-1 primary key với bảng tài khoản, sử dụng khóa của bảng tài khoản"></meta>
        </one-to-one>
        
        <many-to-one name="tinhThanhPho" class="model.pojo.TinhThanhPho" fetch="join">
            <column name="TINH_THANH_PHO" />
        </many-to-one>
        
        <list name="dsTinNhan" table="tin_nhan" inverse="true" lazy="true">
            <key column="THANH_VIEN"></key>
            <list-index></list-index>
            <one-to-many class="model.pojo.TinNhan"/>
        </list>
        
        <list name="dsNguoiNhan" inverse="true" table="nguoi_nhan" lazy="true">
        	<key column="THANH_VIEN"></key>
        	<list-index></list-index>
        	<one-to-many class="model.pojo.NguoiNhan"/>
        </list>
        
        <list name="dsTinRaoVat" inverse="true" table="tin_rao_vat" lazy="true">
        	<key column="THANH_VIEN"></key>
        	<list-index></list-index>
        	<one-to-many class="model.pojo.TinRaoVat"/>
        </list>
        
        <list name="dsHoaDon" inverse="true" table="hoa_don" lazy="true">
        	<key column="THANH_VIEN"></key>
        	<list-index></list-index>
        	<one-to-many class="model.pojo.HoaDon"/>
        </list>
        
    </class>
</hibernate-mapping>
